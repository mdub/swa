{"id":"swa-1","title":"Add CloudTrail support with \"swa cloudtrail query\" command","description":"Implement CloudTrail support in swa to enable querying CloudTrail events. Initial implementation should support \"swa cloudtrail query\" to return the most recent 50 CloudTrail entries. Future enhancements will add filtering and ordering options.","design":"Follow the existing swa architecture patterns:\n\n1. Add aws-sdk-cloudtrail dependency to swa.gemspec\n2. Create lib/swa/cloud_trail/ directory for resource models\n3. Create lib/swa/cloud_trail/event.rb to wrap CloudTrail event records\n4. Create lib/swa/cli/cloud_trail_command.rb following pattern of other service commands\n5. Implement \"query\" subcommand using CollectionBehaviour mixin\n6. Use CloudTrail LookupEvents API to fetch recent events (default limit: 50)\n7. Implement summary() method for one-line event display\n8. Support standard data output (YAML/JSON with JMESPath)\n\nThe command structure should be:\n- swa cloudtrail query summary (default)\n- swa cloudtrail query data [jmespath-query]","acceptance_criteria":"- Running \"swa cloudtrail query\" returns the 50 most recent CloudTrail events\n- Output defaults to summary format (one line per event)\n- \"swa cloudtrail query data\" returns full event data in YAML\n- \"swa cloudtrail query data --json\" returns full event data in JSON\n- JMESPath queries work with the data output\n- Event summary shows key fields (timestamp, event name, username, source IP)\n- Follows existing swa architectural patterns and code style","notes":"Implemented and tested CloudTrail support. All acceptance criteria met:\n- Returns 50 most recent events by default\n- --limit option works correctly (fixed in commit 3012838)\n- Summary format shows timestamp, event name, username, event source\n- Data output in YAML/JSON works\n- JMESPath queries work\n- Follows swa architectural patterns","status":"in_progress","priority":2,"issue_type":"feature","assignee":"mikewilliams","created_at":"2025-10-25T16:03:46.156464+11:00","updated_at":"2025-10-25T16:20:12.043516+11:00"}
